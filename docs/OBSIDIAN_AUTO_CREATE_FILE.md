# Obsidian è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶åŠŸèƒ½

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

å½“ä½¿ç”¨æ¨¡æ¿è·¯å¾„ï¼ˆå¦‚ `{year}-W{week}.md`ï¼‰è¯»å– Obsidian æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼š**è‡ªåŠ¨åˆ›å»º**ä¸€ä¸ªå¸¦æœ‰é»˜è®¤ç»“æ„çš„ Markdown æ–‡ä»¶ã€‚

## ğŸ¯ é€‚ç”¨åœºæ™¯

è¿™ä¸ªåŠŸèƒ½ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š

1. **å‘¨è®°/æ—¥è®°æ¨¡å¼** - æ¯å‘¨/æ¯å¤©è‡ªåŠ¨åˆ›å»ºæ–°æ–‡ä»¶
2. **é¦–æ¬¡ä½¿ç”¨** - ç”¨æˆ·ç¬¬ä¸€æ¬¡æ‰“å¼€åº”ç”¨æ—¶è‡ªåŠ¨åˆ›å»ºåˆå§‹æ–‡ä»¶
3. **è·¨è®¾å¤‡åŒæ­¥** - åœ¨æ–°è®¾å¤‡ä¸Šé¦–æ¬¡ä½¿ç”¨æ—¶è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ç»“æ„

## ğŸ”§ å®ç°ç»†èŠ‚

### è§¦å‘æ¡ä»¶

è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ä¼šåœ¨ä»¥ä¸‹æƒ…å†µä¸‹è§¦å‘ï¼š

- ä½¿ç”¨ `readTodoItems(template)` è¯»å– TODO æ—¶
- ä½¿ç”¨ `readCalendarEvents(template)` è¯»å–æ—¥å†äº‹ä»¶æ—¶
- ä½¿ç”¨ `readPomodoroSessions(template)` è¯»å–ç•ªèŒ„é’Ÿä¼šè¯æ—¶
- æ–‡ä»¶è·¯å¾„æ˜¯é€šè¿‡æ¨¡æ¿è§£æçš„ï¼ˆåŒ…å« `{year}`, `{week}` ç­‰å˜é‡ï¼‰
- æ–‡ä»¶ä¸å­˜åœ¨

### é»˜è®¤æ–‡ä»¶ç»“æ„

è‡ªåŠ¨åˆ›å»ºçš„æ–‡ä»¶æ˜¯ä¸€ä¸ª**ç©ºæ–‡ä»¶**ï¼Œä¸åŒ…å«ä»»ä½•é¢„å®šä¹‰å†…å®¹ã€‚

è¿™æ ·è®¾è®¡çš„åŸå› ï¼š
- âœ… **çµæ´»æ€§** - ç”¨æˆ·å¯ä»¥è‡ªç”±ç»„ç»‡æ–‡ä»¶ç»“æ„
- âœ… **ç®€æ´æ€§** - é¿å…ä¸å¿…è¦çš„æ¨¡æ¿å†…å®¹
- âœ… **å…¼å®¹æ€§** - ä¸ç°æœ‰çš„ Obsidian å·¥ä½œæµç¨‹å…¼å®¹

### å…³é”®ç‰¹æ€§

1. **ç©ºæ–‡ä»¶** - åˆ›å»ºçš„æ–‡ä»¶å†…å®¹ä¸ºç©º
2. **ç›®å½•è‡ªåŠ¨åˆ›å»º** - å¦‚æœçˆ¶ç›®å½•ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
3. **å³æ—¶å¯ç”¨** - åˆ›å»ºåç«‹å³å¯ä»¥è¯»å†™

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: TODO Widget

```tsx
import { useWidgetObsidian } from '@/hooks/useWidgetObsidian'

const TodoWidget = () => {
  const { items, sync } = useWidgetObsidian<TodoItem>({
    widgetId: 'todo',
    dataType: 'todo',
    template: '{year}-W{week}.md',  // æ¨¡æ¿è·¯å¾„
    autoSync: true,
  })

  // é¦–æ¬¡è¯»å–æ—¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
  // ä¾‹å¦‚ï¼š2025-W02.md
}
```

### ç¤ºä¾‹ 2: æ‰‹åŠ¨è¯»å–

```tsx
import { useObsidian } from '@/hooks/useObsidian'

const MyComponent = () => {
  const { readTodoItems } = useObsidian()

  const loadTodos = async () => {
    // å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
    const items = await readTodoItems('{year}-W{week}.md')
  }
}
```

## ğŸ” æ—¥å¿—è¾“å‡º

å½“æ–‡ä»¶è‡ªåŠ¨åˆ›å»ºæ—¶ï¼Œä¼šåœ¨æ—¥å¿—ä¸­çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š

```
[Obsidian] File does not exist, creating with default structure
  path: /Users/yourname/Documents/Daily/2025-W02.md
[Obsidian] Created default file
  path: /Users/yourname/Documents/Daily/2025-W02.md
```

## âš™ï¸ é…ç½®è¦æ±‚

ç¡®ä¿åœ¨ `config.toml` ä¸­æ­£ç¡®é…ç½®äº† Obsidianï¼š

```toml
[computer.your-hostname.obsidian]
enabled = true
vault_path = "/path/to/your/vault"
secrets_file = "secrets.md"

[global.obsidian.content_files]
mode = "auto"
template = "{year}-W{week}.md"
```

## ğŸ¨ æ¨¡æ¿å˜é‡

æ”¯æŒä»¥ä¸‹æ¨¡æ¿å˜é‡ï¼š

- `{year}` - å¹´ä»½ (2025)
- `{month}` - æœˆä»½ (01-12)
- `{week}` - ISO å‘¨æ•° (01-53)
- `{day}` - æ—¥æœŸ (01-31)
- `{date}` - å®Œæ•´æ—¥æœŸ (2025-01-08)

**ç¤ºä¾‹ï¼š**
- `{year}-W{week}.md` â†’ `2025-W02.md`
- `{year}/{month}/daily-{date}.md` â†’ `2025/01/daily-2025-01-08.md`
- `Daily/{year}-{month}-{day}.md` â†’ `Daily/2025-01-08.md`

## âœ… ä¼˜åŠ¿

1. **é›¶é…ç½®** - ç”¨æˆ·æ— éœ€æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶
2. **çµæ´»æ€§** - ç©ºæ–‡ä»¶å…è®¸ç”¨æˆ·è‡ªç”±ç»„ç»‡å†…å®¹
3. **å®¹é”™æ€§** - é¿å…å› æ–‡ä»¶ä¸å­˜åœ¨å¯¼è‡´çš„é”™è¯¯
4. **ç”¨æˆ·å‹å¥½** - æ–°ç”¨æˆ·å¯ä»¥ç«‹å³å¼€å§‹ä½¿ç”¨

## ğŸ”§ æŠ€æœ¯å®ç°

ç›¸å…³ä»£ç ä½ç½®ï¼š`src/core/ObsidianManager.ts`

- `readFileContent()` - è¯»å–æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»º
- `createDefaultFile()` - åˆ›å»ºé»˜è®¤æ–‡ä»¶ç»“æ„
- `resolveTemplatePath()` - è§£ææ¨¡æ¿è·¯å¾„

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **ä»…é™æ¨¡æ¿è·¯å¾„** - åªæœ‰é€šè¿‡æ¨¡æ¿è§£æçš„è·¯å¾„æ‰ä¼šè‡ªåŠ¨åˆ›å»º
2. **ä¸è¦†ç›–ç°æœ‰æ–‡ä»¶** - å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œä¸ä¼šä¿®æ”¹
3. **éœ€è¦å†™æƒé™** - ç¡®ä¿åº”ç”¨å¯¹ Vault ç›®å½•æœ‰å†™æƒé™
4. **ç›®å½•è‡ªåŠ¨åˆ›å»º** - çˆ¶ç›®å½•ä¸å­˜åœ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»º

## ğŸš€ ä¸‹ä¸€æ­¥

è¿™ä¸ªåŠŸèƒ½å·²ç»é›†æˆåˆ°æ‰€æœ‰ Obsidian ç›¸å…³çš„è¯»å–æ“ä½œä¸­ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯ä½¿ç”¨ã€‚

